<app-navbar></app-navbar>
<app-sidebar></app-sidebar>
<div class="content-wrapper pl-2">
    <div style="margin: 10px;">
            <div class="my-2 ml-2 titulo text-center">
                <h3>
                    Busqueda de Cuentas
                </h3>
            </div>
            <div class="card-body">
                <tabset #tabBusqueda>
                  <tab customClass="tabClass" heading="POR PACIENTE" id="tabRut" (selectTab)="onSelect($event)">
                    <form novalidate [formGroup]="FormBusquedapaciente" autocomplete="off" spellcheck="false">
                        <div class="row ml-1 mt-2">
                        <!-- <div class="form-group col-md-4">
                        </div> -->
                            <div class="form-group col-md-1">
                                <label for="fechadesde">Fecha Desde *</label>
                                <input appSelecttext type="text" placeholder="DD/MM/YYYY" class="form-control form-control-sm"
                                    [bsConfig]="bsConfig" bsDatepicker formControlName="fechadesde" />
                            </div>
                            <div class="form-group col-md-1 ml-2">
                                <label for="fechahasta">Fecha Hasta *</label>
                                <input appSelecttext type="text" placeholder="DD/MM/YYYY" class="form-control form-control-sm"
                                    [bsConfig]="bsConfig" bsDatepicker formControlName="fechahasta" />
                            </div> 
                            <div class="form-group col-md-2">
                                <label for="rutpaciente">Rut Paciente</label>
                                <input #rutpaciente appAutofocus appSelecttext formatRut type="text"
                                    class="form-control form-control-sm text-uppercase" placeholder="Ingrese Rut"
                                    formControlName="rutpaciente">
                                <p class="text-danger text-form-valid"
                                    *ngIf="FormBusquedapaciente.controls['rutpaciente'].invalid && (FormBusquedapaciente.controls['rutpaciente'].dirty || 
                                    FormBusquedapaciente.controls['rutpaciente'].touched)">
                                    Requerido, mínimo caracteres 9 y máximo 10, Rut inválido</p>
                            </div>
                            <div class="form-group col-md-3">
                                <label for="nombrepaciente">Nombre</label>
                                <input type="text" class="form-control form-control-sm text-uppercase" placeholder="Ingrese nombre paciente"
                                formControlName="nombrepaciente">
                            </div>
                            <div class="form-group col-md-4 align-self-end text-right">
                                <button type="button" id="btnbuscar"
                                    class="btn btn-primary btn-sm button-my-styles-busqueda_01 "
                                    (click)="onBuscarsolicitudes()">Buscar<i class="fas fa-search ml-1" aria-hidden="true"></i>
                                </button>
                            </div>
                        </div>                        
                        <div class="row ml-1 mt-2">
                            <div class="form-group col-md-2">
                                <label for="paternopaciente">Apellido Paterno</label>
                                <input type="text" class="form-control form-control-sm text-uppercase" placeholder="Ingrese apellido paterno"
                                formControlName="paternopaciente">
                            </div>
                            <div class="form-group col-md-2 ml-1">
                                <label for="maternopaciente">Apellido Materno</label>
                                <input type="text" class="form-control form-control-sm text-uppercase" placeholder="Ingrese apellido materno"
                                formControlName="maternopaciente">
                            </div>
                            <div class="form-group col-md-7 align-self-end text-right">
                                <button type="button" id="btnlimpiarbusq" class="btn btn-primary btn-sm button-my-styles-busqueda_01 "
                                (click)="onLimpiarbusqueda()">Limpiar<i class="fas fa-search ml-1" aria-hidden="true"></i>
                                </button>
                            </div>
                        </div>
                    </form>
                  </tab>
                  <tab customClass="tabClass" heading="POR SOLICITUD" id="tabSolicitud" (selectTab)="onSelect($event)">
                    <form novalidate [formGroup]="FormBusquedasolicitud" autocomplete="off" spellcheck="false">
                      <div class="row ml-1 mt-2">
                        <div class="form-group col-md-2">
                          <label for="nrosolicitud">Nro.Solicitud</label>
                          <input #nrosolicitud appSelecttext appNumlicencia appAutofocus type="text" class="form-control form-control-sm"
                            placeholder="XXXXXXXXXX" formControlName="nrosolicitud">
                          <p class="text-danger text-form-valid"
                            *ngIf="FormBusquedasolicitud.controls['nrosolicitud'].invalid && (FormBusquedasolicitud.controls['nrosolicitud'].dirty || 
                            FormBusquedasolicitud.controls['nrosolicitud'].touched)">
                            Requerido, mínimo caracteres 9 y máximo 10</p>
                        </div>
                        <div class="form-group col-md-1">
                            <label for="folio">Folio</label>
                            <input #folio type="text" class="form-control form-control-sm" formControlName="folio">
                        </div>
                        <div class="form-group col-md-1">
                            <label for="ficha">Ficha</label>
                            <input #ficha type="text" class="form-control form-control-sm" formControlName="ficha">
                        </div>
                        <div class="form-group col-md-7 align-self-end text-right ml-2">
                            <button type="button" id="btnbuscar"
                                class="btn btn-primary btn-sm button-my-styles-busqueda_01 "
                                (click)="onBuscarsolicitudes()">Buscar<i class="fas fa-search ml-1" aria-hidden="true"></i>
                            </button>
                        </div>
                    </div>
                    <div class="row ml-1 mt-2">
                        <div class="form-group col-md-1">
                            <label for="nroreceta">Nro.Receta</label>
                            <input #nroreceta type="text" class="form-control form-control-sm" formControlName="nroreceta">
                        </div>
                        <div class="form-group col-md-1">
                            <label for="codproducto">Cod.Producto</label>
                            <input #codproducto type="text" class="form-control form-control-sm" formControlName="codproducto">
                        </div>
                        <div class="form-group col-md-1">
                            <label for="nombreproducto">Nombre Producto</label>
                            <input #nombreproducto type="text" class="form-control form-control-sm" formControlName="nombreproducto">
                        </div>
                        <div class="form-group col-md-8 align-self-end text-right ml-1">
                            <button type="button" id="btnlimpiarbusq" class="btn btn-primary btn-sm button-my-styles-busqueda_01 "
                            (click)="onLimpiarbusqueda()">Limpiar<i class="fas fa-search ml-1" aria-hidden="true"></i>
                            </button>
                        </div>
                    </div>
                    </form>
                  </tab>
                </tabset>
              </div>

        <div class="card border-primary mt-1 ml-4" style="padding: 5px;height: 500px;">
            <div class="table-responsive mt-1" style="height: 400px;">
                <table class="table table-sm  table-primary table-bordered">
                    <tr>
                        <th scope="col">folio</th>
                        <th scope="col">Fecha</th>
                        <th scope="col">Rut</th>
                        <th scope="col">Nombres</th>
                        <th scope="col">Edad</th>
                        <th scope="col">Fecha Hosp.</th>
                        <th scope="col">Acción</th>
                    </tr>
                    <!-- <tr class="table-secondary" *ngFor="let movimiento of listapacientesPaginacion"
                        style="cursor: pointer;"> -->
                    <tr class="table-secondary" style="cursor: pointer;"> 
                        <!-- <td class="text-nowrap help   " tooltip="{{movimiento.interperror}}"  >
                            <small>{{movimiento.interperror| slice:0:20 }}</small>
                        </td> -->
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td>
                            <span><button type="button" id="btncargos" class="btn btn-info btn-sm ml-2" (click)="onCargospaciente()">
                                <small>Ver Cargos</small></button>
                           </span>
                       </td>
                    </tr>


                </table>
<!--                <div class="row m-1 mt-3">
                    <!- <pagination [boundaryLinks]="true" [directionLinks]="true" [maxSize]="6"
                        [totalItems]="listapacientes.length" [itemsPerPage]="50" [previousText]="'Anterior'"
                        [nextText]="'Siguiente'" [firstText]="'&laquo;'" [lastText]="'&raquo;'"
                        (pageChanged)="pageChangedSolicitudpacientes($event)">
                    </pagination> ->
                </div> -->
            </div>

        </div>
        <!--  Botones pie de página -->
        <div class="row float-right mr-1 mt-2">
            <div class="form-group  align-self-end">
                <button type="button" id="btnlimpiar" class="btn mr-1 btn-primary btn-sm button-my-styles-busqueda_02"
                    (click)="onLimpiar()">LIMPIAR <i class="fas fa-eraser ml-1"></i>
                </button>
            </div>
            <div class="form-group  align-self-end">
                <button type="button" id="btnsalir" class="btn btn-primary btn-sm button-my-styles-busqueda_02"
                    routerLink='../home'>SALIR <i class="fas fa-window-close ml-1"></i>
                </button>
            </div>
        </div>
    </div>
    <swal #alertSwal title="" text="" type="success" [showCancelButton]="false"> </swal>
    <swal #alertSwalAlert title="" text="" type="warning" [showCancelButton]="false"> </swal>
    <swal #alertSwalError title="" text="" type="error" [showCancelButton]="false"> </swal>
</div>